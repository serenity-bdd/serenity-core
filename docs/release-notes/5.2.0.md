# Serenity BDD 5.2.0 Release Notes

**Complete Serenity Screenplay Playwright Integration**

This release introduces the new `serenity-screenplay-playwright` module, bringing the full power of the Screenplay pattern to Playwright-based testing. This provides a modern, actor-centric approach to browser automation with automatic resource management.

## What's New

### Serenity Screenplay Playwright Module

A comprehensive Screenplay pattern integration for Playwright, enabling expressive, maintainable tests:

- **BrowseTheWebWithPlaywright Ability**: Full lifecycle management of Playwright browsers, contexts, and pages
- **Automatic Cleanup**: Browser resources are automatically cleaned up when tests finish
- **Playwright 1.58.0 Support**: Compatible with the latest Playwright release
- **Actor-Centric Testing**: Write tests that describe what actors do, not how they do it

#### Basic Usage

```java
@ExtendWith(SerenityJUnit5Extension.class)
class TodoTest {

    Actor alice;

    @BeforeEach
    void setup() {
        alice = Actor.named("Alice")
            .whoCan(BrowseTheWebWithPlaywright.usingTheDefaultConfiguration());
    }

    @Test
    void shouldAddTodoItem() {
        alice.attemptsTo(
            Navigate.to("https://todomvc.com/examples/react/"),
            Enter.theValue("Buy milk").into(".new-todo"),
            Press.key("Enter")
        );

        assertThat(alice.asksFor(Text.ofEach(".todo-list li")))
            .contains("Buy milk");
    }
}
```

### Core Interactions

A complete set of interactions for browser automation:

| Interaction | Description |
|-------------|-------------|
| `Click.on(target)` | Click on an element |
| `DoubleClick.on(target)` | Double-click on an element |
| `RightClick.on(target)` | Right-click for context menus |
| `Enter.theValue(text).into(target)` | Type into input fields |
| `Press.key(key)` | Press keyboard keys |
| `Hover.over(target)` | Hover over elements |
| `Check.checkbox(target)` | Check checkboxes |
| `Uncheck.checkbox(target)` | Uncheck checkboxes |
| `SelectFromOptions.byVisibleText(text).from(target)` | Select dropdown options |
| `Navigate.to(url)` | Navigate to URLs |
| `Upload.file(path).to(target)` | Upload files |

### Questions for Querying State

Questions to retrieve information from the page:

| Question | Description |
|----------|-------------|
| `Text.of(target)` | Get element text |
| `Value.of(target)` | Get input value |
| `Attribute.of(target).named(attr)` | Get attribute value |
| `Presence.of(target)` | Check element exists |
| `Visibility.of(target)` | Check element visible |
| `Enabled.of(target)` | Check element enabled |
| `CurrentUrl.ofThePage()` | Get current URL |
| `PageTitle.ofThePage()` | Get page title |

### Network Interception

Mock and intercept network requests for isolated testing:

```java
alice.attemptsTo(
    InterceptNetwork.requestsTo("**/api/users")
        .andRespondWithJson(200, Map.of(
            "users", List.of(
                Map.of("name", "John"),
                Map.of("name", "Jane")
            )
        ))
);
```

## Bug Fixes

### JUnit 5 Inherited Test Methods (#3715)

Fixed an issue where test methods inherited from superclasses were not properly discovered in JUnit 5. The framework now searches the full class hierarchy for test methods.

### Mixed Serenity/Non-Serenity Scenarios (#3712)

Fixed report generation when running a mix of Serenity-enabled and non-Serenity test scenarios in the same test run.

## Maven Coordinates

```xml
<dependency>
    <groupId>net.serenity-bdd</groupId>
    <artifactId>serenity-screenplay-playwright</artifactId>
    <version>5.2.0</version>
    <scope>test</scope>
</dependency>
```

## Why This Matters

- **Modern Testing**: Combine Playwright's modern browser automation with Serenity's rich reporting
- **Screenplay Pattern**: Write more readable, maintainable tests using the actor-centric Screenplay pattern
- **Auto-Cleanup**: No need to manually manage browser lifecycle - resources are automatically cleaned up
- **Rich Reporting**: All Playwright interactions appear as detailed steps in Serenity reports with screenshots

## Documentation

Full documentation is available at:
- [Serenity Screenplay Playwright Guide](https://serenity-bdd.github.io/docs/screenplay/screenplay_playwright)

---

**Full Changelog**: https://github.com/serenity-bdd/serenity-core/compare/5.1.0...5.2.0
